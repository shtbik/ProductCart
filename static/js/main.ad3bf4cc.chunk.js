(this["webpackJsonpproduct-cart"]=this["webpackJsonpproduct-cart"]||[]).push([[0],{151:function(e,t,a){e.exports=a(393)},155:function(e,t,a){e.exports=a(392)},16:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return m}));var n=a(10),r="test/cart/CLEAR_CART",c=function(e){return{type:"test/cart/ADD_PRODUCT_TO_CART",data:e}},l=function(e,t){return{type:"test/cart/CHANGE_CART_COUNT",data:{newValue:e,productId:t}}},o=function(e){return{type:"test/cart/DELETE_CART_ITEM",data:e}},i=function(){return{type:r}},s=[];function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"test/cart/ADD_PRODUCT_TO_CART":var a=Object(n.cloneDeep)(e),c=t.data,l=Object(n.find)(a,{id:c.id});return l?l.count=Number(l.count)+1:(c.count=1,a.push(c)),a;case"test/cart/CHANGE_CART_COUNT":var o=Object(n.cloneDeep)(e),i=t.data,m=Object(n.find)(o,{id:Number(i.productId)});return m&&(m.count=i.newValue),o;case"test/cart/DELETE_CART_ITEM":var u=Object(n.cloneDeep)(e);return Object(n.filter)(u,(function(e){return e.id!==Number(t.data)}));case r:return s;default:return e}}},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return m}));var n=a(10),r=[{id:1,category:"phone",name:"iPhone 5SE",price:400,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"sale",img:"iphone_5se.jpg"},{id:2,category:"phone",name:"iPhone 6S",price:500,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"-15%",img:"iphone_6s.jpg"},{id:3,category:"phone",name:"iPhone 7",price:630,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"new",img:"iphone_7.jpg"},{id:4,category:"laptop",name:"MacBook Air",price:1e3,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"sale",img:"macbook_air.png"},{id:5,category:"laptop",name:"MacBook Pro",price:1400,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"new",img:"macbook_pro.png"}],c="test/product/LOAD_PRODUCTS",l="initialProductsList",o=function(e){return{type:"test/product/FILTER_PRODUCTS",data:{data:e.products,filter:e.filter}}};function i(){return function(e){return setTimeout((function(){localStorage.setItem(l,JSON.stringify(r)),e({type:c,data:{data:r}})}),2e3)}}var s={data:[],filter:"all"};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var a=Object(n.cloneDeep)(e);return a=Object(n.merge)(a,t.data);case"test/product/FILTER_PRODUCTS":return t.data;default:return e}}},391:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(51),l=a.n(c),o=a(9),i=a(15),s=a(55),m=a(147),u=a(5),d=a(32),p=a(16),E=function(e){var t=e.product,a=t.id,n=t.name,c=t.img,l=t.description,o=t.tags,i=t.price,s=e.addToCart,m=e.className;return r.a.createElement("div",{className:m,key:a},r.a.createElement("div",{className:"main-image"},r.a.createElement("img",{src:"".concat("/product-cart","/img/").concat(c),alt:n})),r.a.createElement("p",{className:"name"},n),r.a.createElement("p",null,l),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-6 tag"},r.a.createElement("span",{className:"label label-tag"},o)),r.a.createElement("div",{className:"col-md-6 col-sm-6 price"},r.a.createElement("span",null,i,"\xa0$"))),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:s(a)},"Add to cart"))};E.defaultProps={className:""};var v=E,f={getProducts:d.d,filterProducts:d.c,addCart:p.a},g=Object(i.connect)((function(e){var t=e.products;return{products:t.data,filter:t.filter}}),f)((function(e){var t=e.products,a=e.filter,c=e.getProducts,l=e.filterProducts,o=e.addCart;Object(n.useEffect)((function(){t.length||c()}),[t,c]);var i=function(e){return function(){var a=t.find((function(t){return t.id===e}));o(a)}};return t&&t.length?r.a.createElement("div",{className:"container-catalog"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-12"},r.a.createElement("h3",{className:"text-center"},"Catalog Products"),r.a.createElement("div",{className:"filter text-right"},"Category:\xa0",r.a.createElement("select",{name:"filter",value:a,className:"form-control",onChange:function(e){var t=e.target.value,a=JSON.parse(localStorage.getItem(d.a));"all"!==t&&(a=a.filter((function(e){return e.category===t}))),l({products:a,filter:t})}},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"laptop"},"Laptop"),r.a.createElement("option",{value:"phone"},"Phone"))),r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"row"},t.map((function(e){return r.a.createElement(v,{key:e.id,product:e,addToCart:i,className:"col-md-4 col-sm-6 product"})}))))))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-12"},r.a.createElement("h3",{className:"text-center"},"Loading products..."))))})),b={changeCartCount:p.b,deleteCartItem:p.e},N=[{path:"/",component:g,exact:!0},{path:"/cart",component:Object(i.connect)((function(e){return{cart:e.cart}}),b)((function(e){var t=e.cart,a=e.changeCartCount,c=e.deleteCartItem,l=function(e){var t=e.target,n=t.value,r=t.dataset.id;a(n,r)},o=function(e){var t=e.target.dataset.id;c(t)},i=Object(n.useMemo)((function(){return t.reduce((function(e,t){var a=e;return a+=t.price*t.count}),0)}),[t]);return t.length?r.a.createElement("div",{className:"container-cart"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-12"},r.a.createElement("h3",{className:"text-center"},"Your order"),r.a.createElement("table",{className:"table table-striped table-cart"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u2116"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,t.map((function(e,t){var a=e.id,n=e.price,c=e.count,i=e.img,s=e.name;return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("b",null,t+1)),r.a.createElement("td",null,r.a.createElement("img",{src:"".concat("/product-cart","/img/").concat(i),alt:s})),r.a.createElement("td",null,s),r.a.createElement("td",null,"".concat(n,"$")),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"count",className:"form-control","data-id":a,value:c,onChange:l})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary",type:"button","data-id":a,onClick:o},"Delete")))})),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"6",className:"text-right"},r.a.createElement("h3",null,"Total price: ",i,"$")))))))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-12"},r.a.createElement("h3",{className:"text-center"},"Sorry, your cart is empty"))))})),exact:!0},{path:"*",component:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container main-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-12 text-center"},r.a.createElement("h1",null,"404"),r.a.createElement("h3",{className:"font-bold"},"Page not found")))))},exact:!0}],h=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"pull-left"},r.a.createElement("strong",null,"Copyright")," \xa9 Aleksandr Shtykov")))},C=a(53),y=a(148),O=a.n(y),j=a(149),T=a.n(j),_=(Object(C.createDevTools)(r.a.createElement(T.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q",defaultIsVisible:!1},r.a.createElement(O.a,{theme:"tomorrow"}))),a(154)),P=a(31),k={clearCart:p.c},w=Object(i.connect)((function(e){return{cart:e.cart}}),k)((function(e){var t=e.cart,a=e.clearCart,c=Object(n.useState)(!0),l=Object(_.a)(c,2),o=l[0],i=l[1],s=Object(n.useMemo)((function(){return t.reduce((function(e,t){var a=e;return a+=Number(t.count)}),0)}),[t]),m=o?"collapse navbar-collapse":"collapse navbar-collapse show",u=o?"navbar-toggler collapsed":"navbar-toggler";return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light rounded"},r.a.createElement("div",{className:"container"},r.a.createElement(P.a,{to:"/",className:"navbar-brand"},"ProductsCart"),r.a.createElement("button",{type:"button",onClick:function(){return i(!o)},className:u},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:m},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(P.a,{to:"/",onClick:function(){a()},className:"nav-link",activeClassName:"on"},"Clear Cart"))),r.a.createElement("span",{className:"form-inline my-2 my-lg-0"},r.a.createElement("ul",{className:"nav profile-widget"},r.a.createElement("li",null,r.a.createElement(P.a,{to:"/cart",activeClassName:"on",className:"nav-link"},"Cart",s?r.a.createElement("span",{className:"label-cart"},s):null,"\xa0",r.a.createElement("i",{className:"fa fa-shopping-basket"}))))))))})),A=function(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement("div",{className:"container main-container"},r.a.createElement(o.c,null,N.map((function(e){var t=e.component,a=e.exact,n=e.path;return r.a.createElement(o.a,{key:n,path:n,exact:a,component:t})})))),r.a.createElement(h,null),!1)},D=a(151),x=a.n(D)()(),R=x.store,L=x.persistor,S=(a(391),Object(u.a)({basename:"/product-cart"}));l.a.render(r.a.createElement(i.Provider,{store:R},r.a.createElement(m.a,{loading:null,persistor:L},r.a.createElement(o.b,{history:Object(s.syncHistoryWithStore)(S,R),basename:"/product-cart"},r.a.createElement(A,null)))),document.getElementById("root"))},393:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(152),c=a(92),l=a(55),o=a(32),i=a(16),s=Object(n.c)({routing:l.routerReducer,products:o.b,cart:i.d}),m=a(153),u={key:"app",storage:a.n(m).a,whitelist:["cart","products"]},d=Object(c.a)(u,s),p=Object(n.d)(Object(n.a)(r.a));t.default=function(){var e=Object(n.e)(d,p);return{store:e,persistor:Object(c.b)(e)}}}},[[155,1,2]]]);
//# sourceMappingURL=main.ad3bf4cc.chunk.js.map