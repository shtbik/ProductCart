(this["webpackJsonpproduct-cart-new"]=this["webpackJsonpproduct-cart-new"]||[]).push([[0],{171:function(e,t,a){e.exports=a(434)},175:function(e,t,a){e.exports=a(433)},23:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={baseURL:"https://reqres.in/api/users",timeout:6e4,withCredentials:!1};t.b={locale:"ru",localStorage:{name:"cart"}}},31:function(e,t,a){"use strict";var n=a(166),c=a.n(n),r=a(436),l=a(6),o=a(23),i=[{id:1,category:"phone",name:"iPhone 5SE",price:400,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"sale",img:"iphone_5se.jpg"},{id:2,category:"phone",name:"iPhone 6S",price:500,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"-15%",img:"iphone_6s.jpg"},{id:3,category:"phone",name:"iPhone 7",price:630,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"new",img:"iphone_7.jpg"},{id:4,category:"laptop",name:"MacBook Air",price:1e3,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"sale",img:"macbook_air.png"},{id:5,category:"laptop",name:"MacBook Pro",price:1400,description:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.",tags:"new",img:"macbook_pro.png"}];a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p}));var s=c.a.create(o.a);function m(){return function(e){return s.get("/").then((function(){return e({type:"test/product/LOAD_PRODUCTS_RECEIVE",data:i,receivedAt:Date.now()})})).catch((function(){throw new r.a({_error:"bad_credentials"})}))}}function u(e){return function(t){return t({type:"test/product/FILTER_PRODUCTS_RECEIVE",data:e,receivedAt:Date.now()})}}var d=[];function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"test/product/LOAD_PRODUCTS_RECEIVE":Object(l.cloneDeep)(e);return localStorage.setItem("initialProducts",JSON.stringify(t.data)),t.data;case"test/product/FILTER_PRODUCTS_RECEIVE":Object(l.cloneDeep)(e);return t.data;default:return e}}},432:function(e,t,a){},433:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(52),l=a.n(r),o=a(10),i=a(8),s=a(56),m=a(3),u=a(57),d=a(58),p=a(60),E=a(59),v=a(61),g=a(6),b=a(31),f=a(5),h=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).addToCart=function(e){var t=a.props,n=t.products,c=t.dispatch,r=Object(g.find)(n,{id:e});c(Object(f.d)(r))},a.filter=function(e){var t=e.target.value,n=a.props.dispatch,c=JSON.parse(localStorage.getItem("initialProducts"));if(c&&c.length&&"all"!==t){var r=Object(g.filter)(c,{category:t});n(Object(b.b)(r))}else n(Object(b.b)(c))},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(Object(b.c)())}},{key:"render",value:function(){var e=this,t=this.props.products,a=null;return t&&t.length?(a=t.map((function(t){var a=t.id,n=t.name,r=t.img,l=t.description,o=t.tags,i=t.price;return c.a.createElement("div",{className:"col-md-4 col-sm-4 product",key:a},c.a.createElement("div",{className:"main-image"},c.a.createElement("img",{src:"".concat("/product-cart","/img/").concat(r),alt:n})),c.a.createElement("p",{className:"name"},n),c.a.createElement("p",null,l),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 col-sm-6 tag"},c.a.createElement("span",{className:"label label-tag"},o)),c.a.createElement("div",{className:"col-md-6 col-sm-6 price"},c.a.createElement("span",null,i," $"))),c.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.addToCart(a)}},"Add to cart"))})),c.a.createElement("div",{className:"container-catalog"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12"},c.a.createElement("h3",{className:"text-center"},"Catalog Products"),c.a.createElement("div",{className:"filter text-right"},"Category:\xa0",c.a.createElement("select",{name:"filter",className:"form-control",onChange:this.filter},c.a.createElement("option",{value:"all"},"All"),c.a.createElement("option",{value:"laptop"},"Laptop"),c.a.createElement("option",{value:"phone"},"Phone"))),c.a.createElement("div",{className:"products"},c.a.createElement("div",{className:"row"},a)))))):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12"},c.a.createElement("h3",{className:"text-center"},"Can not load products"))))}}]),t}(n.Component);h.defaultProps={products:[]};var N=Object(i.connect)((function(e){return{products:e.products}}))(h),O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).onChange=function(e){var t=a.props.dispatch,n=e.target,c=n.value,r=n.dataset.id;t(Object(f.e)(c,r))},a.deleteToCart=function(e){var t=e.target.dataset.id;(0,a.props.dispatch)(Object(f.h)(t))},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cart,a=null,n=0;return t&&t.length?(a=t.map((function(t,a){var r=t.id,l=t.price,o=t.count,i=t.img,s=t.name;return n+=l*o,c.a.createElement("tr",{key:r},c.a.createElement("td",null,c.a.createElement("b",null,a+1)),c.a.createElement("td",null,c.a.createElement("img",{src:"".concat("/product-cart","/img/").concat(i),alt:s})),c.a.createElement("td",null,s),c.a.createElement("td",null,"".concat(l,"$")),c.a.createElement("td",null,c.a.createElement("input",{type:"text",name:"count",className:"form-control","data-id":r,value:o,onChange:e.onChange})),c.a.createElement("td",null,c.a.createElement("button",{className:"btn btn-primary",type:"button","data-id":r,onClick:e.deleteToCart},"Delete")))})),c.a.createElement("div",{className:"container-cart"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12"},c.a.createElement("h3",{className:"text-center"},"Your order"),c.a.createElement("table",{className:"table table-striped table-cart"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"Image"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Price for one"),c.a.createElement("th",null,"Count"))),c.a.createElement("tbody",null,a,c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"6",className:"text-right"},c.a.createElement("h3",null,"Total price: ",n,"$"))))))))):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12"},c.a.createElement("h3",{className:"text-center"},"Sorry, your cart is empty"))))}}]),t}(n.Component);O.defaultProps={cart:[]};var y=Object(i.connect)((function(e){return{cart:e.cart}}))(O),j=a(30),C=Object(i.connect)((function(e){return{cart:e.cart}}))((function(e){var t=e.cart,a=e.dispatch,r=Object(n.useMemo)((function(){return t.reduce((function(e,t){var a=e;return a+=Number(t.count)}),0)}),[t]);return c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light rounded"},c.a.createElement("div",{className:"container"},c.a.createElement(j.a,{to:"/",className:"navbar-brand"},"LogoCompany"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample09","aria-controls":"navbarsExample09","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExample09"},c.a.createElement("ul",{className:"navbar-nav mr-auto"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(j.a,{to:"/",onClick:function(){localStorage.clear(),a(Object(f.f)())},className:"nav-link",activeClassName:"on"},"Clear & Update"))),c.a.createElement("span",{className:"form-inline my-2 my-lg-0"},c.a.createElement("ul",{className:"nav profile-widget"},c.a.createElement("li",null,c.a.createElement(j.a,{to:"/cart",activeClassName:"on",className:"nav-link"},"Cart",r?c.a.createElement("span",{className:"label-cart"},r):null,"\xa0",c.a.createElement("i",{className:"fa fa-shopping-basket"}))))))))})),w=function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"pull-left"},c.a.createElement("strong",null,"Copyright")," \xa9 Aleksandr Shtykov")))},D=[{path:"/",component:N,exact:!0},{path:"/cart",component:y,exact:!0},{path:"*",component:function(){return c.a.createElement("div",null,c.a.createElement(C,null),c.a.createElement("div",{className:"container main-container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-12 text-center"},c.a.createElement("h1",null,"404"),c.a.createElement("h3",{className:"font-bold"},"Page not found")))),c.a.createElement(w,null))},exact:!0}],_=a(54),S=a(169),T=a.n(S),k=a(170),x=a.n(k),A=(Object(_.createDevTools)(c.a.createElement(x.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-q",defaultIsVisible:!1},c.a.createElement(T.a,{theme:"tomorrow"}))),Object(i.connect)()((function(){return c.a.createElement("div",null,c.a.createElement(C,null),c.a.createElement("div",{className:"container main-container"},c.a.createElement(o.c,null,D.map((function(e){var t=e.component,a=e.exact,n=e.path;return c.a.createElement(o.a,{key:n,path:n,exact:a,component:t})})))),c.a.createElement(w,null),!1)}))),P=a(23),R=a(171),I=a.n(R),L=localStorage.getItem(P.b.localStorage.name)?JSON.parse(localStorage.getItem(P.b.localStorage.name)):[],U=I()({cart:L.cart||[]}),V=(a(432),Object(m.a)({basename:"/product-cart"}));l.a.render(c.a.createElement(i.Provider,{store:U},c.a.createElement(o.b,{history:Object(s.syncHistoryWithStore)(V,U),basename:"/product-cart"},c.a.createElement(A,null))),document.getElementById("root"))},434:function(e,t,a){"use strict";a.r(t);var n=a(22),c=a(172),r=a(173),l=a(174),o=a.n(l),i=a(5),s=a(23),m=o()(s.b.localStorage.name),u=r.createMiddleware(m,[],[i.a,i.b,i.c]),d=a(56),p=a(31),E=Object(n.c)({routing:d.routerReducer,products:p.a,cart:i.g});a.d(t,"default",(function(){return g}));var v=Object(n.a)(c.a,u);function g(e){return Object(n.d)(E,e,v)}},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return m})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return p}));var n=a(6),c="test/cart/ADD_PRODUCT_TO_CART",r="test/cart/CHANGE_CART_COUNT",l="test/cart/DELETE_CART_ITEM",o="test/cart/CLEAR_CART",i=function(){return{type:o}};function s(e){return function(t){t({type:c,data:e,receivedAt:Date.now()})}}function m(e,t){return function(a){a({type:r,data:{newValue:e,productId:t},receivedAt:Date.now()})}}function u(e){return function(t){t({type:l,data:e,receivedAt:Date.now()})}}var d=[];function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var a=Object(n.cloneDeep)(e),i=t.data,s=Object(n.find)(a,{id:i.id});return s?s.count=Number(s.count)+1:(i.count=1,a.push(i)),a;case r:var m=Object(n.cloneDeep)(e),u=t.data,p=Object(n.find)(m,{id:Number(u.productId)});return p&&(p.count=u.newValue),m;case l:var E=Object(n.cloneDeep)(e);return Object(n.filter)(E,(function(e){return e.id!==Number(t.data)}));case o:return d;default:return e}}}},[[175,1,2]]]);
//# sourceMappingURL=main.a8e8f922.chunk.js.map